const config = require("../settings/config");
module.exports = {
  command: "compatibility",
  description: "Calculate the compatibility score between two users.",
  category: "fun",
execute:async (sock, m, { args, reply }) => {
  try {
    if (args.length < 2) {
      return reply("Please mention two users to calculate compatibility.\nUsage: `.compatibility @user1 @user2`");
    }

    let user1 = m.mentionedJid[0]; 
    let user2 = m.mentionedJid[1]; 

    const specialNumber = config.DEV ? `${config.DEV}@s.whatsapp.net` : null;

    // Calculate a random compatibility score (between 1 to 1000)
    let compatibilityScore = Math.floor(Math.random() * 1000) + 1;

    // Check if one of the mentioned users is the special number
    if (user1 === specialNumber || user2 === specialNumber) {
      compatibilityScore = 1000; // Special case for DEV number
      return reply(`ðŸ’– Compatibility between @${user1.split('@')[0]} and @${user2.split('@')[0]}: ${compatibilityScore}+/1000 ðŸ’–`);
    }

    // Send the compatibility message
    await sock.sendMessage(m.chat, {
      text: `ðŸ’– Compatibility between @${user1.split('@')[0]} and @${user2.split('@')[0]}: ${compatibilityScore}/1000 ðŸ’–`,
      mentions: [user1, user2],
    }, { quoted: m });

  } catch (error) {
    console.log(error);
    reply(`âŒ Error: ${error.message}`);
  }
}};